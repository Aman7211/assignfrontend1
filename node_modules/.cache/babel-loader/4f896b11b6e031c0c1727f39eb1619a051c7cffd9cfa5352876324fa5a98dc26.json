{"ast":null,"code":"import _defineProperty from\"/Users/amanrathore/Desktop/React Websites/react14/assignment/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/amanrathore/Desktop/React Websites/react14/assignment/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/amanrathore/Desktop/React Websites/react14/assignment/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amanrathore/Desktop/React Websites/react14/assignment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/amanrathore/Desktop/React Websites/react14/assignment/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';// import {BASE_URL} from '../dbUrl';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setcredentials=_useState2[1];var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"https://profilebackend-9kdq.onrender.com/api/loginuser\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credentials.email,password:credentials.password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;if(!json.success){alert(\"Enter Valid Credentials \");}if(json.success){localStorage.setItem(\"userEmail\",credentials.email);localStorage.setItem(\"authToken\",json.authToken);console.log(localStorage.getItem(\"authToken\"));navigate(\"/\");}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var onchange=function onchange(event){setcredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},event.target.name,event.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"abc container bg-primary text-white\",children:\"SIGN IN TO SEE THE DASHBOARD\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{\"marginBottom\":\"40px\",\"marginTop\":\"40px\"},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",name:\"email\",value:credentials.email,onChange:onchange}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"exampleInputPassword1\",name:\"password\",value:credentials.password,onChange:onchange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"m-3 btn btn-primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/createuser\",className:\"m-3 btn btn-danger\",children:\"I'm a new user\"})]})}),/*#__PURE__*/_jsx(\"div\",{})]});}","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_useState","email","password","_useState2","_slicedToArray","credentials","setcredentials","navigate","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","json","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","success","alert","localStorage","setItem","authToken","console","log","getItem","stop","_x","apply","arguments","onchange","event","_objectSpread","_defineProperty","target","name","value","children","className","style","onSubmit","htmlFor","type","id","onChange","to"],"sources":["/Users/amanrathore/Desktop/React Websites/react14/assignment/src/Components/Login.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom';\n// import {BASE_URL} from '../dbUrl';\n\nexport default function Login() {\n\n    const [credentials, setcredentials] = useState({email: \"\", password: \"\" })\n     let navigate = useNavigate();\n     const handleSubmit = async (e) => {\n        e.preventDefault();\n        const response = await fetch(`https://profilebackend-9kdq.onrender.com/api/loginuser`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ email: credentials.email, password: credentials.password })\n\n        });\n        const json = await response.json();\n        if (!json.success) {\n            alert(\"Enter Valid Credentials \")\n        }\n        if (json.success) {\n            localStorage.setItem(\"userEmail\", credentials.email);\n            localStorage.setItem(\"authToken\",json.authToken);\n            console.log(localStorage.getItem(\"authToken\"));\n            navigate(\"/\");\n        }\n    }\n       const onchange = (event) => {\n        setcredentials({ ...credentials, [event.target.name]: event.target.value })\n        }\n\n    return (\n        <>\n          <div>\n          <div className='abc container bg-primary text-white'>SIGN IN TO SEE THE DASHBOARD</div>\n            </div>\n            <div className=\"container\" style={{\"marginBottom\":\"40px\", \"marginTop\":\"40px\"}}>\n                <form onSubmit={handleSubmit} >\n\n\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n                        <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" name='email' value={credentials.email} onChange={onchange} />\n                        <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n                        <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" name='password' value={credentials.password} onChange={onchange} />\n                    </div>\n                    <button type=\"submit\" className=\"m-3 btn btn-primary\">Submit</button>\n                    <Link to=\"/createuser\" className='m-3 btn btn-danger'>I'm a new user</Link>\n                </form>\n            </div>\n            <div>\n\n      </div>\n        </>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}